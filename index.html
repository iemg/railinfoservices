<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive World Map</title>
    <style>
        body { margin: 0; padding: 0; }
        svg { width: 100vw; height: 100vh; }
        .country { fill: #ccc; stroke: #fff; stroke-width: 0.5; }
        .country:hover { fill: #999; }
    </style>
</head>
<body>
    <svg id="map"></svg>
    <script>
        const width = window.innerWidth;
        const height = window.innerHeight;
        const svg = d3.select("#map")
            .attr("width", width)
            .attr("height", height);

        const projection = d3.geoNaturalEarth1()
            .scale(width / 2 / Math.PI)
            .translate([width / 2, height / 2]);

        const path = d3.geoPath().projection(projection);

        const continentLinks = {
            "North America": "https://en.wikipedia.org/wiki/North_America",
            "South America": "https://en.wikipedia.org/wiki/South_America",
            "Europe": "https://en.wikipedia.org/wiki/Europe",
            "Africa": "https://en.wikipedia.org/wiki/Africa",
            "Asia": "https://en.wikipedia.org/wiki/Asia",
            "Oceania": "https://en.wikipedia.org/wiki/Oceania",
            "Antarctica": "https://en.wikipedia.org/wiki/Antarctica"
        };

        // Comprehensive mapping of countries to continents
        const countryToContinent = {
            // North America
            "United States": "North America", "Canada": "North America", "Mexico": "North America",
            "Guatemala": "North America", "Belize": "North America", "El Salvador": "North America",
            "Honduras": "North America", "Nicaragua": "North America", "Costa Rica": "North America",
            "Panama": "North America", "Cuba": "North America", "Jamaica": "North America",
            "Haiti": "North America", "Dominican Republic": "North America", "Puerto Rico": "North America",
            "Bahamas": "North America", "Trinidad and Tobago": "North America", "Barbados": "North America",
            "Saint Lucia": "North America", "Dominica": "North America", "Antigua and Barbuda": "North America",
            "Saint Kitts and Nevis": "North America", "Grenada": "North America",
            
            // South America
            "Brazil": "South America", "Argentina": "South America", "Peru": "South America",
            "Colombia": "South America", "Bolivia": "South America", "Venezuela": "South America",
            "Chile": "South America", "Ecuador": "South America", "Guyana": "South America",
            "Uruguay": "South America", "Suriname": "South America", "Paraguay": "South America",
            "French Guiana": "South America",
            
            // Europe
            "Russia": "Europe", "Germany": "Europe", "United Kingdom": "Europe", "France": "Europe",
            "Italy": "Europe", "Spain": "Europe", "Ukraine": "Europe", "Poland": "Europe",
            "Romania": "Europe", "Netherlands": "Europe", "Belgium": "Europe", "Greece": "Europe",
            "Czech Republic": "Europe", "Portugal": "Europe", "Sweden": "Europe", "Hungary": "Europe",
            "Belarus": "Europe", "Austria": "Europe", "Switzerland": "Europe", "Bulgaria": "Europe",
            "Denmark": "Europe", "Finland": "Europe", "Slovakia": "Europe", "Norway": "Europe",
            "Ireland": "Europe", "Croatia": "Europe", "Moldova": "Europe", "Bosnia and Herzegovina": "Europe",
            "Albania": "Europe", "Lithuania": "Europe", "North Macedonia": "Europe", "Slovenia": "Europe",
            "Latvia": "Europe", "Estonia": "Europe", "Montenegro": "Europe", "Luxembourg": "Europe",
            "Malta": "Europe", "Iceland": "Europe", "Andorra": "Europe", "Monaco": "Europe",
            "Liechtenstein": "Europe", "San Marino": "Europe", "Vatican City": "Europe",
            
            // Africa
            "Nigeria": "Africa", "Ethiopia": "Africa", "Egypt": "Africa", "Democratic Republic of the Congo": "Africa",
            "South Africa": "Africa", "Tanzania": "Africa", "Kenya": "Africa", "Uganda": "Africa",
            "Algeria": "Africa", "Sudan": "Africa", "Morocco": "Africa", "Angola": "Africa",
            "Mozambique": "Africa", "Ghana": "Africa", "Madagascar": "Africa", "Cameroon": "Africa",
            "CÃ´te d'Ivoire": "Africa", "Niger": "Africa", "Burkina Faso": "Africa", "Mali": "Africa",
            "Malawi": "Africa", "Zambia": "Africa", "Senegal": "Africa", "Chad": "Africa",
            "Somalia": "Africa", "Zimbabwe": "Africa", "Guinea": "Africa", "Rwanda": "Africa",
            "Benin": "Africa", "Burundi": "Africa", "Tunisia": "Africa", "South Sudan": "Africa",
            "Togo": "Africa", "Sierra Leone": "Africa", "Libya": "Africa", "Congo": "Africa",
            "Liberia": "Africa", "Central African Republic": "Africa", "Mauritania": "Africa",
            "Eritrea": "Africa", "Namibia": "Africa", "Gambia": "Africa", "Botswana": "Africa",
            "Gabon": "Africa", "Lesotho": "Africa", "Guinea-Bissau": "Africa", "Equatorial Guinea": "Africa",
            "Mauritius": "Africa", "Eswatini": "Africa", "Djibouti": "Africa", "Comoros": "Africa",
            "Cape Verde": "Africa", "Sao Tome and Principe": "Africa", "Seychelles": "Africa",
            
            // Asia
            "China": "Asia", "India": "Asia", "Indonesia": "Asia", "Pakistan": "Asia",
            "Bangladesh": "Asia", "Japan": "Asia", "Philippines": "Asia", "Vietnam": "Asia",
            "Turkey": "Asia", "Iran": "Asia", "Thailand": "Asia", "Myanmar": "Asia",
            "South Korea": "Asia", "Iraq": "Asia", "Afghanistan": "Asia", "Saudi Arabia": "Asia",
            "Uzbekistan": "Asia", "Malaysia": "Asia", "Yemen": "Asia", "Nepal": "Asia",
            "North Korea": "Asia", "Sri Lanka": "Asia", "Kazakhstan": "Asia", "Syria": "Asia",
            "Cambodia": "Asia", "Jordan": "Asia", "Azerbaijan": "Asia", "United Arab Emirates": "Asia",
            "Tajikistan": "Asia", "Israel": "Asia", "Laos": "Asia", "Lebanon": "Asia",
            "Kyrgyzstan": "Asia", "Turkmenistan": "Asia", "Singapore": "Asia", "Oman": "Asia",
            "State of Palestine": "Asia", "Kuwait": "Asia", "Georgia": "Asia", "Mongolia": "Asia",
            "Armenia": "Asia", "Qatar": "Asia", "Bahrain": "Asia", "Timor-Leste": "Asia",
            "Cyprus": "Asia", "Bhutan": "Asia", "Maldives": "Asia", "Brunei": "Asia",
            
            // Oceania
            "Australia": "Oceania", "Papua New Guinea": "Oceania", "New Zealand": "Oceania",
            "Fiji": "Oceania", "Solomon Islands": "Oceania", "Vanuatu": "Oceania",
            "New Caledonia": "Oceania", "French Polynesia": "Oceania", "Samoa": "Oceania",
            "Guam": "Oceania", "Kiribati": "Oceania", "Tonga": "Oceania",
            "Micronesia": "Oceania", "Marshall Islands": "Oceania", "Palau": "Oceania",
            "Tuvalu": "Oceania", "Nauru": "Oceania",
            
            // Antarctica
            "Antarctica": "Antarctica"
        };

        d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json")
            .then(function(world) {
                const countries = topojson.feature(world, world.objects.countries);

                svg.selectAll("path")
                    .data(countries.features)
                    .enter().append("path")
                    .attr("d", path)
                    .attr("class", "country")
                    .on("click", function(event, d) {
                        const countryName = d.properties.name;
                        const continent = countryToContinent[countryName];
                        if (continent && continentLinks[continent]) {
                            window.open(continentLinks[continent], '_blank');
                        }
                    });
            });
    </script>
</body>
</html>